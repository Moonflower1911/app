<div class="background min-vh-100 d-flex flex-row align-items-center">

  <div class="container-fluid">
    <div class="row justify-content-center align-items-center authentication authentication-basic h-100">
      <div class="col-xxl-4 col-xl-5 col-lg-5 col-md-6 col-sm-8 col-12">

        <div class="card custom-card my-4 auth-circle">

          <div id="logo" class="login-title text-center mt-5">
            <img src="assets/brand/nozoul-logo-dark.svg" alt="logo" class="img-fluid mb-3">
            <h6 class="text-secondary">{{ 'authentication.login.sub-title'|translate }}</h6>
          </div>

          <div class="card-body px-4 pb-5 pt-3">
            <p class="h4 mb-2 fw-semibold">{{'authentication.forgot-password.title'|translate}}</p>
            <p class="mb-4 text-muted fw-normal">{{'authentication.forgot-password.sub-title'|translate}}</p>
            @if (!success) {
              <app-alert></app-alert>

              <form cForm (ngSubmit)="submit()" [formGroup]="forgotPasswordForm">
                <!--Email input-->
                <div [cFormFloating]="true" class="mb-3">
                  <input cFormControl id="floatingInput" placeholder="jhondoe@domain.com" type="email"
                         formControlName="email"/>
                  <label cLabel for="floatingInput">{{ 'authentication.login.form.email-input.label'|translate }}</label>
                  @if (((forgotPasswordForm.get('email')?.touched || forgotPasswordForm.get('email')?.dirty))) {
                    @if (forgotPasswordForm.get('email')?.hasError('required')) {
                      <c-form-feedback [valid]="false">{{ 'commons.errors.required'|translate }}</c-form-feedback>
                    }
                    @if (forgotPasswordForm.get('email')?.hasError('invalidEmail')) {
                      <c-form-feedback [valid]="false">{{ 'commons.errors.email'|translate }}</c-form-feedback>
                    }
                  }
                </div>

                <!--Submit button-->
                <a class="small mt-1 text-decoration-none text-secondary d-flex justify-content-end"
                   routerLink="/login">
                  {{ 'authentication.forgot-password.login-link'|translate }}
                </a>
                <div class="d-grid gap-2 mt-4">
                  <button cButton color="primary" type="submit"
                          [disabled]="!forgotPasswordForm.valid">{{ 'authentication.forgot-password.form.submit-btn'|translate }}
                  </button>
                </div>
              </form>
            } @else {
              <div class="d-flex justify-content-center">
                <img src="assets/images/animations/send-email.gif" class="img-fluid send-email"
                     alt="">
              </div>
              <div class="text-center success-message">
                {{ 'authentication.forgot-password.form.success'|translate }}
              </div>
              <div class="d-grid gap-2 mt-2 text-center">
                <a class="text-decoration-none text-secondary small" routerLink="/login">
                  {{ 'authentication.forgot-password.login-link'|translate }}
                </a>
              </div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
