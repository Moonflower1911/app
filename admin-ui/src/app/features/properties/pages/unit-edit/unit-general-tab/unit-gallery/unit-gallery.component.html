<c-row>
  <!-- IMAGE COVER -->
  <c-col [md]="8">
    <div class="cover-zone">
      @if (!coverImage) {
        <!-- Placeholder when no cover image -->
        <label class="upload-placeholder-cover w-100 cursor-pointer">
          <input type="file" (change)="onFileSelected($event)" multiple accept="image/*" hidden/>
          <div class="cover-placeholder d-flex flex-column align-items-center justify-content-center text-center">
            <img class="img-fluid placeholder-image" src="assets/images/animations/image-placeholder.gif" alt="No image">
            <span class="text-info-emphasis mt-2">
              {{ 'units.edit-unit.tabs.general-information.gallery.upload-cover' | translate }}
            </span>
          </div>
        </label>
      } @else {
        <!-- Existing cover image -->
        <div class="cover-image-wrapper position-relative">
          <img [src]="coverImage.imageUrl"
               [alt]="'Cover image'"
               class="img-fluid rounded w-100 cover-image"/>

          <!-- Actions on hover -->
          <div class="image-overlay d-none">
            <button class="btn btn-danger btn-sm"
                    title="Delete cover"
                    type="button"
                    (click)="confirmImageDeletion(coverImage)">
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </div>
      }
    </div>
  </c-col>

  <!-- RIGHT THUMBNAILS ZONE (3 rows of 2 images each) -->
  <c-col [md]="4">
    <c-row>
      @for (image of getDisplayedRightImages(); track image.id; let i = $index) {
        <c-col [md]="6" class="mb-2">
          <div class="thumbnail-wrapper position-relative">
            <img [src]="image.imageUrl"
                 [alt]="'Image ' + (i + 1)"
                 class="img-fluid rounded w-100 thumbnail-image"/>

            <!-- Actions on hover -->
            <div class="image-overlay d-none">
              <button class="btn btn-primary btn-sm me-1"
                      title="Set as cover"
                      type="button"
                      (click)="setAsCover(image)">
                <i class="bi bi-star"></i>
              </button>
              <button class="btn btn-danger btn-sm"
                      title="Delete"
                      type="button"
                      (click)="confirmImageDeletion(image)">
                <i class="bi bi-trash"></i>
              </button>
            </div>
          </div>
        </c-col>
      }

      <!-- Add button (always visible in right zone if space available) -->
      @if (getDisplayedRightImages().length < 6) {
        <c-col [md]="6" class="mb-2">
          <label class="add-image-btn w-100 cursor-pointer">
            <input type="file" (change)="onFileSelected($event)" multiple accept="image/*" hidden/>
            <div class="add-placeholder d-flex align-items-center justify-content-center">
              <i class="bi bi-plus-lg fs-4 text-muted"></i>
            </div>
          </label>
        </c-col>
      }
    </c-row>
  </c-col>

<!-- BOTTOM ROW for additional images -->
@if (getBottomRowImages().length > 0 || shouldShowBottomAddButton()) {
  <c-row class="mt-3">
    @for (image of getBottomRowImages(); track image.id; let i = $index) {
      <c-col [md]="2" class="mb-2">
        <div class="thumbnail-wrapper position-relative">
          <img [src]="image.imageUrl"
               [alt]="'Image ' + (i + 5)"
               class="img-fluid rounded w-100 thumbnail-image"/>

          <!-- Actions on hover -->
          <div class="image-overlay d-none">
            <button class="btn btn-primary btn-sm"
                    title="Set as cover"
                    type="button"
                    (click)="setAsCover(image)">
              <i class="bi bi-star"></i>
            </button>
            <button class="btn btn-danger btn-sm"
                    title="Delete"
                    type="button"
                    (click)="confirmImageDeletion(image)">
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </div>
      </c-col>
    }

    <!-- Add button in bottom row -->
    @if (shouldShowBottomAddButton()) {
      <c-col [md]="2" class="mb-2">
        <label class="add-image-btn w-100 cursor-pointer">
          <input type="file" (change)="onFileSelected($event)" multiple accept="image/*" hidden/>
          <div class="add-placeholder d-flex align-items-center justify-content-center">
            <i class="bi bi-plus-lg fs-4 text-muted"></i>
          </div>
        </label>
      </c-col>
    }
  </c-row>
}
