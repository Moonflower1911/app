<!-- Modal title -->
<div class="modal-header justify-content-center align-items-center">
  <h6 class="modal-title">
    {{ (ratePlanToEdit ? 'units.edit-unit.tabs.rates.ratesPlans.edit.title' : 'units.edit-unit.tabs.rates.ratesPlans.create.title') | translate }}
  </h6>
</div>

<!-- Modal body -->
<div class="modal-body">

  <form (submit)="submit()" [formGroup]="ratePlanForm" cForm>

    <c-row>
      <!-- Name (Required) -->
      <c-col [md]="12" sm="12" class="mb-3">
        <label cLabel class="required me-2" for="name">
          {{ 'units.edit-unit.tabs.rates.ratesPlans.create.form.name.label' | translate }}
        </label>
        <input cFormControl formControlName="name" id="name" type="text"/>
        @if (ratePlanForm.get('name')?.touched && ratePlanForm.get('name')?.invalid) {
          <c-form-feedback [valid]="false">
            {{ 'commons.errors.required' | translate }}
          </c-form-feedback>
        }
      </c-col>
    </c-row>

    @if (!standard) {
      <!-- Segment -->
      <c-row>
        <c-col [md]="12" sm="12" class="mb-3">
          <label cLabel class="required" for="segment">
            {{ 'units.edit-unit.tabs.rates.ratesPlans.create.form.segment.select.label' | translate }}
          </label>
          <app-segment-select formControlName="segments" [multiple]="true"
                              [showEnabledOnly]="true"></app-segment-select>
          @if (ratePlanForm.get('segments')?.touched && ratePlanForm.get('segments')?.invalid) {
            @if (ratePlanForm.get('segments')?.errors?.['required'] || ratePlanForm.get('segments')?.errors?.['minlength']) {
              <c-form-feedback [valid]="false">
                {{ 'commons.errors.required' | translate }}
              </c-form-feedback>
            }
          }
        </c-col>
      </c-row>

      <c-row [md]="6" class="mb-3">
        <!-- Enabled (Required) -->
        <c-col [md]="6" sm="12" class="mb-3 d-flex align-items-center">
          <label cLabel class="required me-2 mb-0" for="enabled">
            {{ 'units.edit-unit.tabs.rates.ratesPlans.create.form.enabled.label' | translate }}
          </label>
          <div class="form-check form-switch ms-2 mt-1">
            <input
              type="checkbox"
              class="form-check-input"
              id="enabled"
              role="switch"
              formControlName="enabled"/>
          </div>
        </c-col>
      </c-row>
    }



    <!-- Modal footer -->
    <c-row class="mt-3">
      <c-col class="d-flex justify-content-end">
        <button cButton color="light" size="sm" variant="ghost" (click)="closeModal()">
          {{ 'commons.form.cancel-btn' | translate }}
        </button>
        <button cButton class="ms-3" color="primary" size="sm" type="submit" [disabled]="!ratePlanForm.valid">
          {{ (ratePlanToEdit ? 'commons.form.save-btn' : 'commons.form.save-btn') | translate }}
        </button>
      </c-col>
    </c-row>
  </form>
</div>
