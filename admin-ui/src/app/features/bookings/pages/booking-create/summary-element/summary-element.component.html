<c-card class="mb-2">
  <!--Title & Remove button-->
  <c-card-header class="pb-0 d-flex justify-content-between align-content-center">
    <!--Title-->
    <h4 class="card-title mb-0">
      <i class="bi bi-journal-text me-1 text-primary"></i>
      {{ bookingItem.stay.unitRef.name }}
    </h4>
    <!--Remove booking button-->
    <button cButton type="button" size="sm" variant="outline" color="danger"
            (click)="removeBookingItem()">
      <i class="bi bi-trash"></i>
    </button>
  </c-card-header>

  <c-card-body>

    <!--Stay display-->
    <c-row>
      <c-col [md]="12" class="d-flex justify-content-between align-items-center">
        <div>
          <span class="text-muted small">
            {{ 'bookings.pages.new.summary-section.labels.room'|translate }}
            ({{ bookingItem.stay.totalPrice.unitPriceInclTax }} Mad)
             / {{ ('bookings.pages.new.summary-section.labels.nightly'|translate) }}
          </span>
          <div class="text-muted small">
            {{ bookingItem.stay.occupancy.adults + ('bookings.pages.new.summary-section.labels.adult'|translate) }},
            {{ getChildrenCount() + ('bookings.pages.new.summary-section.labels.child'|translate) }},
            {{ bookingItem.stay.totalPrice.quantity + ('bookings.pages.new.summary-section.labels.night'|translate) }}
          </div>
        </div>
        <span class="text-primary fw-bold">{{ bookingItem.stay.totalPrice.amountInclTax| number:'1.2-2' }} Mad</span>
      </c-col>
    </c-row>

    <!--Fee display-->
    @if (bookingItem.fees && bookingItem.fees.length > 0) {
      @for (fee of bookingItem.fees; track fee) {
        <c-row class="mt-3">
          <c-col [md]="12" class="d-flex justify-content-between align-items-center">
            <div>
              <span class="text-muted small">
                {{ 'bookings.pages.new.summary-section.labels.fee'|translate }}: {{ fee.feeRef.name }}
                ({{ fee.feeRef.price }} Mad)
                 / {{ ('bookings.commons.modality.' + fee.modality + '.symbol')|translate }}
              </span>
              <div class="text-muted small">
                @if (fee.modality == 'PER_PERSON') {
                  {{ fee.occupancy.adults + ('bookings.pages.new.summary-section.labels.adult'|translate) }},
                  {{ (fee.occupancy.children ? fee.occupancy.children.quantity : 0) + ('bookings.pages.new.summary-section.labels.child'|translate) }}
                }
                @if (fee.modality == 'PER_PERSON_PER_NIGHT') {
                  ,
                }
                @if (fee.modality == 'PER_NIGHT' || fee.modality == 'PER_PERSON_PER_NIGHT') {
                  {{ fee.quantity }}N
                }
              </div>
            </div>
            <span class="text-primary fw-bold">{{ fee.rate.amountInclTax| number:'1.2-2' }} Mad</span>
          </c-col>
        </c-row>
      }
    }


  </c-card-body>
</c-card>
